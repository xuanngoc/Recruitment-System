<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragments/home-layout}">
<head>
    <title>EZ Jobs | Home</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.0/showdown.min.js"></script>
</head>
<body>
<div layout:fragment="content" th:remove="tag" id="content">
	<div class="container" style="margin-top: 50px">
    	<div class="row mt-5">
    		<div class="col-3 bg-info" id="company" th:object=${job.employer}>
    			<h2 class="text-center mb-5 mt-3" th:text="${T(ezjob.util.StringUtil).getCompanyName(job.employer.companyName)}"></h2>
    			<i class="fa fa-cog mr-2 mb-2" aria-hidden="true"></i><span th:text="*{type}"></span> <br>
    			<i class="fa fa-globe mr-2 mb-2" aria-hidden="true"></i><span th:text="*{city} + ' - ' + *{country}"></span> <br>
    			<i class="fa fa-table mr-2 mb-2" aria-hidden="true"></i><span th:text="*{dayStartingOfWeek} + ' - ' + *{dayEndingOfWeek}"></span> <br>
    			<i class="fa fa-users mr-2 mb-2" aria-hidden="true"></i><span th:text="*{size}"></span> <br>
    		</div>
    		
    		<div class="col-9 wh-100 pt-5" id="job-detail" th:object="${job}" style="background-color: #9AECDB">
    			<h4 class="text-center" th:text="${job.title}" style="font-size: 27px; color: #6D214F;"></h4>
    			<div class="ml-3 mt-5">
    				<i class="fa fa-cogs text-primary mr-3" aria-hidden="true"></i>
    				<span class="badge badge-info mr-2" th:each="skill : *{skillTags}" th:text="${skill.skillTagName}"></span>
    			</div>
    			<div class="ml-3 mt-2">
    				<i class="fa fa-map-marker text-primary mr-2" aria-hidden="true"></i>
    				<span th:text="*{employer.address}"></span>
    			</div>
    			<div class="row  mt-3">
    				<a class="col-8 offset-2" th:href="@{'/job/'  + ${job.jobId} + '/apply'}" type="button" >
    					<span class="btn btn-danger w-100">Apply job</span>
    				</a>
    			</div>
    			<div class="row mt-5">
    				<div class="col-1"></div>
    				<div class="col-10">
    					<textarea id="description" th:text="*{description}" style="display: none;"> </textarea>
    					<p id="show-description"></p>
    				</div>
    			</div>
    			
    		</div>
    	</div>
    	
        <script>
	        const conv = new showdown.Converter();
	        const txt = document.getElementById('description').innerHTML;
	        document.getElementById('show-description').innerHTML = conv.makeHtml(txt);
		</script>
	</div>
</div>

	
</body>
</html>